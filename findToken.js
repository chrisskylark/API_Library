"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.findToken = void 0;
const findToken = (req) => {
    let jwtAuthCode = req.headers['x-access-token'];
    jwtAuthCode = jwtAuthCode || req.headers['authorization'];
    jwtAuthCode = jwtAuthCode || req.headers['Authorization'];
    jwtAuthCode = jwtAuthCode || (req.queryStringParameters || {})['token'];
    jwtAuthCode = jwtAuthCode || (req.queryStringParameters || {})['auth'];
    if (jwtAuthCode && (jwtAuthCode.split(' ')[0] === 'Bearer' || jwtAuthCode.split(' ')[0] === 'bearer'))
        jwtAuthCode = jwtAuthCode.substring(7);
    return jwtAuthCode;
};
exports.findToken = findToken;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmluZFRva2VuLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZmluZFRva2VuLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFPLE1BQU0sU0FBUyxHQUFHLENBQUMsR0FBUSxFQUFVLEVBQUU7SUFDNUMsSUFBSSxXQUFXLEdBQVUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3ZELFdBQVcsR0FBRyxXQUFXLElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUMxRCxXQUFXLEdBQUcsV0FBVyxJQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDMUQsV0FBVyxHQUFHLFdBQVcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsSUFBSSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN4RSxXQUFXLEdBQUcsV0FBVyxJQUFJLENBQUMsR0FBRyxDQUFDLHFCQUFxQixJQUFJLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZFLElBQUksV0FBVyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxRQUFRLElBQUksV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxRQUFRLENBQUM7UUFDbkcsV0FBVyxHQUFHLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekMsT0FBTyxXQUFXLENBQUM7QUFDckIsQ0FBQyxDQUFDO0FBVFcsUUFBQSxTQUFTLGFBU3BCIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGZpbmRUb2tlbiA9IChyZXE6IGFueSk6IHN0cmluZyA9PiB7XG4gIGxldCBqd3RBdXRoQ29kZTpzdHJpbmcgPSByZXEuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4nXTtcbiAgand0QXV0aENvZGUgPSBqd3RBdXRoQ29kZSB8fCByZXEuaGVhZGVyc1snYXV0aG9yaXphdGlvbiddO1xuICBqd3RBdXRoQ29kZSA9IGp3dEF1dGhDb2RlIHx8IHJlcS5oZWFkZXJzWydBdXRob3JpemF0aW9uJ107XG4gIGp3dEF1dGhDb2RlID0gand0QXV0aENvZGUgfHwgKHJlcS5xdWVyeVN0cmluZ1BhcmFtZXRlcnMgfHwge30pWyd0b2tlbiddO1xuICBqd3RBdXRoQ29kZSA9IGp3dEF1dGhDb2RlIHx8IChyZXEucXVlcnlTdHJpbmdQYXJhbWV0ZXJzIHx8IHt9KVsnYXV0aCddO1xuICBpZiAoand0QXV0aENvZGUgJiYgKGp3dEF1dGhDb2RlLnNwbGl0KCcgJylbMF0gPT09ICdCZWFyZXInIHx8IGp3dEF1dGhDb2RlLnNwbGl0KCcgJylbMF0gPT09ICdiZWFyZXInKSlcbiAgICBqd3RBdXRoQ29kZSA9IGp3dEF1dGhDb2RlLnN1YnN0cmluZyg3KTtcbiAgcmV0dXJuIGp3dEF1dGhDb2RlO1xufTtcbiJdfQ==